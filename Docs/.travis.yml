language: perl

perl:
  - "5.22"
  - "5.18"
  - "5.12"

install:
  # Install conda + bioconda
  - wget https://repo.continuum.io/miniconda/Miniconda-latest-Linux-x86_64.sh -O miniconda.sh;
  - bash miniconda.sh -b -p $HOME/miniconda
  - export PATH="$HOME/miniconda/bin:$PATH"
  
  # Installing Bowtie 2
  - wget https://github.com/BenLangmead/bowtie2/releases/download/v2.2.9/bowtie2-2.2.9-linux-x86_64.zip -O ~/bin/bowtie2-2.2.9-linux-x86_64.zip
  - unzip ~/bin/bowtie2-2.2.9-linux-x86_64.zip -d ~/bin/
  - mv ~/bin/bowtie2-2.2.9/* ~/bin/ 
  # Installing HISAT2
  - wget http://ccb.jhu.edu/software/hisat2/dl/hisat2-2.1.0-Linux_x86_64.zip -O ~/bin/hisat2-2.1.0-Linux_x86_64.zip
  - unzip ~/bin/hisat2-2.1.0-Linux_x86_64.zip -d ~/bin/
  - cp -rv ~/bin/hisat2-2.1.0/* ~/bin/ 

  # installing Samtools
  - wget https://github.com/samtools/samtools/releases/download/1.9/samtools-1.9.tar.bz2
  - tar xjvf samtools-1.9.tar.bz2
  - cd samtools-1.9
  - ./configure --prefix=/home/travis/samtools/
  - make -j 10
  - make install
  - export PATH=/home/travis/samtools/bin:$PATH
  - samtools --version  
  - cd /home/travis/build/FelixKrueger/reStrainingOrder/
  
  
 
 script:
  - "./reStraining --help"
